{"ast":null,"code":"var _jsxFileName = \"D:\\\\Scripts\\\\React103\\\\cliente\\\\src\\\\components\\\\tareas\\\\FormTarea.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport proyectoContext from '../../context/proyectos/proyectoContext';\nimport tareaContext from '../../context/tareas/tareaContext'; //Proyectocontext tiene todo el state y las funciones\n\nconst FormTarea = () => {\n  //Extraer si un proyecto esta activo\n  const proyectosContext = useContext(proyectoContext);\n  const {\n    proyecto\n  } = proyectosContext; //Obtener la funcion del Context de tareas\n  //se recomienda importar los states primero y las funciones despues\n\n  const tareasContext = useContext(tareaContext);\n  const {\n    tareaseleccionada,\n    errortarea,\n    agregarTarea,\n    validarTarea,\n    obtenerTareas,\n    actualizarTarea,\n    limpiarTarea\n  } = tareasContext; //Effect que detecta si hay una tarea seleccionada\n\n  useEffect(() => {\n    if (tareaseleccionada !== null) {\n      guardarTarea(tareaseleccionada);\n    } else {\n      guardarTarea({\n        nombre: ''\n      });\n    }\n  }, [tareaseleccionada]); //State del formulario\n  //Array destructuring para ecxtarer el proyecto actual\n\n  const [tarea, guardarTarea] = useState({\n    nombre: ''\n  }); //extraer el nombre del proyecto con destructuring\n\n  const {\n    nombre\n  } = tarea; //si no hay ningun proyecto seleccionado\n\n  if (!proyecto) return null; //Array destructuring para ecxtarer el proyecto actual\n\n  const [proyectoActual] = proyecto; //Leer los valores del formulario\n\n  const handleChange = e => {\n    guardarTarea({ ///obtendremos una copia de las tareas\n      //si queremos agregar mas campo a futuro\n      //no va a ser necesario modificar esta funcion\n      ...tarea,\n      [e.target.name]: e.target.value\n    });\n  }; //evento para agregar tarea cuando aprete click\n\n\n  const onSubmit = e => {\n    e.preventDefault(); //ahora hay que hacer estas acciones\n    //validar tarea, trim remmueve espacios vacios, === a string vacio\n\n    if (nombre.trim() === '') {\n      validarTarea(); //return para que no se ejecute la proxima linea se detenga la efecucion\n\n      return;\n    } //Si es edicion o si es nueva tarea\n\n\n    if (tareaseleccionada === null) {\n      //agregar la nueva tarea al state de tareas, _id funcina como mongoose\n      tarea.proyecto = proyectoActual._id; //tarea.estado = false;\n\n      agregarTarea(tarea);\n    } else {\n      //actualizar tarea existente\n      actualizarTarea(tarea); //Elimina tarea seleccionada del state\n\n      limpiarTarea(tarea);\n    } //pasar la validacion\n    //Obtener y filtrar kas tareas del proyecto actual\n    //con proyectoActual.id toma el id como payload\n\n\n    obtenerTareas(proyectoActual.id); //reiniciar el formulario\n\n    guardarTarea({\n      nombre: ''\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"formulario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    //agregaremos un evento para agregar tareas\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input-text\",\n    placeholder: \"Agrega tareas relaciondas con tu postura seleccionada\",\n    name: \"nombre\" //con value se reinicia el form\n    ,\n    value: nombre,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-submit btn-block\" //si tenemos una tarea seleccionada y no esta como null -> va a ser editar\n    //caso contrario va a ser agregar tarea\n    ,\n    value: tareaseleccionada ? 'Editar Tarea' : 'Agregar Tarea',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }))), errortarea ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mensaje error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 27\n    }\n  }, \"El nombre de la tarea es obligatorio\") : null);\n};\n\nexport default FormTarea;","map":{"version":3,"sources":["D:/Scripts/React103/cliente/src/components/tareas/FormTarea.js"],"names":["React","useContext","useState","useEffect","proyectoContext","tareaContext","FormTarea","proyectosContext","proyecto","tareasContext","tareaseleccionada","errortarea","agregarTarea","validarTarea","obtenerTareas","actualizarTarea","limpiarTarea","guardarTarea","nombre","tarea","proyectoActual","handleChange","e","target","name","value","onSubmit","preventDefault","trim","_id","id"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport proyectoContext from '../../context/proyectos/proyectoContext';\nimport tareaContext from '../../context/tareas/tareaContext';\n\n\n//Proyectocontext tiene todo el state y las funciones\n\nconst FormTarea = () => {\n\n    //Extraer si un proyecto esta activo\n    const proyectosContext = useContext(proyectoContext);\n    const { proyecto } = proyectosContext;\n    \n    //Obtener la funcion del Context de tareas\n    //se recomienda importar los states primero y las funciones despues\n    const tareasContext = useContext(tareaContext);\n    const { tareaseleccionada, errortarea, agregarTarea, validarTarea, obtenerTareas,\n    actualizarTarea, limpiarTarea } = \n    tareasContext;\n    \n    //Effect que detecta si hay una tarea seleccionada\n    useEffect(() => {\n        if(tareaseleccionada !== null) {\n            guardarTarea(tareaseleccionada)\n        } else {\n            guardarTarea({\n                nombre: ''\n            })\n        }\n    }, [tareaseleccionada]);\n\n    //State del formulario\n    //Array destructuring para ecxtarer el proyecto actual\n    const [tarea, guardarTarea] = useState({\n        nombre: ''\n    })\n\n    //extraer el nombre del proyecto con destructuring\n    const { nombre } = tarea;\n    \n    //si no hay ningun proyecto seleccionado\n    if(!proyecto) return null;\n\n    //Array destructuring para ecxtarer el proyecto actual\n    const [proyectoActual] = proyecto;\n\n    //Leer los valores del formulario\n    const handleChange = e => {\n        guardarTarea({\n            ///obtendremos una copia de las tareas\n            //si queremos agregar mas campo a futuro\n            //no va a ser necesario modificar esta funcion\n            ...tarea,\n            [e.target.name] : e.target.value\n        })\n    }\n    \n    //evento para agregar tarea cuando aprete click\n    const onSubmit = e => {\n        e.preventDefault();\n        //ahora hay que hacer estas acciones\n\n        //validar tarea, trim remmueve espacios vacios, === a string vacio\n        if(nombre.trim() === '') {\n            validarTarea();\n            //return para que no se ejecute la proxima linea se detenga la efecucion\n            return;\n        }\n\n        //Si es edicion o si es nueva tarea\n        if(tareaseleccionada === null) {\n            //agregar la nueva tarea al state de tareas, _id funcina como mongoose\n            tarea.proyecto = proyectoActual._id;\n            //tarea.estado = false;\n            agregarTarea(tarea);\n        } else {\n            //actualizar tarea existente\n            actualizarTarea(tarea);\n\n            //Elimina tarea seleccionada del state\n            limpiarTarea(tarea);\n        }\n        //pasar la validacion\n\n\n        //Obtener y filtrar kas tareas del proyecto actual\n        //con proyectoActual.id toma el id como payload\n        obtenerTareas(proyectoActual.id)\n        \n        //reiniciar el formulario\n        guardarTarea({\n            nombre: ''\n        })\n    }\n\n    return (\n        <div className=\"formulario\">\n            <form\n            //agregaremos un evento para agregar tareas\n                onSubmit={onSubmit}\n            >\n                <div className=\"contenedor-input\">\n                    <input \n                        type=\"text\"\n                        className=\"input-text\"\n                        placeholder=\"Agrega tareas relaciondas con tu postura seleccionada\"\n                        name=\"nombre\"\n                        //con value se reinicia el form\n                        value={nombre}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                <div className=\"contenedor-input\">\n                    <input\n                        type=\"submit\"\n                        className=\"btn btn-primario btn-submit btn-block\"\n                        //si tenemos una tarea seleccionada y no esta como null -> va a ser editar\n                        //caso contrario va a ser agregar tarea\n                        value={tareaseleccionada ? 'Editar Tarea' : 'Agregar Tarea'}\n                    />\n                </div>\n\n            </form>\n            {errortarea ? <p className=\"mensaje error\">El nombre de la tarea es obligatorio</p>\n            : null }\n        </div>\n\n    );\n}\n\n\n\nexport default FormTarea;"]},"metadata":{},"sourceType":"module"}