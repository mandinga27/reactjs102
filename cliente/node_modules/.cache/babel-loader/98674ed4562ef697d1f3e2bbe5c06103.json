{"ast":null,"code":"var _jsxFileName = \"D:\\\\Scripts\\\\React103\\\\cliente\\\\src\\\\components\\\\auth\\\\Registro.js\";\nimport React, { useState, useContext, Fragment, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AlertaContext from '../../context/alertas/alertaContext';\nimport AuthContext from '../../context/autentificacion/authContext'; //import { Dropdown } from 'semantic-ui-react';\n//import { makeStyles } from '@material-ui/core/styles';\n//import TextField  from '@material-ui/core/TextField';\n//import MenuItem from '@material-ui/core/MenuItem';\n//import classes from '*.module.css';\n\n/*\nconst opciones = [\n    {\n        value: 'Sernageomin',\n        label: '$',\n    },\n    {\n        value: 'Supervisor',\n        label: 'B',\n    },\n];\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '25ch',\n        },\n    },\n})); \n*/\n\nconst Registro = props => {\n  //extraer los valores del context\n  //use context permite acceder a todas las funciones y al state\n  const alertaContext = useContext(AlertaContext);\n  const {\n    alerta,\n    mostrarAlerta\n  } = alertaContext;\n  const authContext = useContext(AuthContext);\n  const {\n    mensaje,\n    autenticado,\n    registrarUsuario\n  } = authContext; //En caso de que el usuario se haya autenticado o registrado o sea\n  //un registro duplicado\n\n  useEffect(() => {\n    if (autenticado) {\n      //aca redijiremos al usuario autenticad a la pag de proyectos\n      props.history.push('/proyectos');\n    }\n\n    if (mensaje) {\n      mostrarAlerta('Todos lo campos son obligatorios');\n    } // eslint-disable-next-line\n\n  }, [\n  /*mensaje,*/\n  autenticado, props.history]); //State para iniciar sesión\n  //los states tiene que tener el mismo nombre que name ej name=nombre\n\n  const [usuario, guardarUsuario] = useState({\n    rut: '',\n    nombre: '',\n    apellido: '',\n    ciudad: '',\n    telefono: '',\n    cargo: '',\n    email: '',\n    password: '',\n    confirmar: ''\n  }); //extraer de usuario\n\n  const {\n    rut,\n    nombre,\n    apellido,\n    ciudad,\n    telefono,\n    cargo,\n    email,\n    password,\n    confirmar\n  } = usuario; //aqui vamos a ir guardando en el State\n\n  const onChange = e => {\n    guardarUsuario({ //traemos la copia de usuario para lo que este en el State no se \n      //sobre escriba en otra pieza de esta\n      //para reescribir la actual -> [e.target.name] : e.target.value\n      ...usuario,\n      [e.target.name]: e.target.value\n    });\n  }; //Cuando el usuario quiere iniciar sesion\n\n\n  const onSubmit = e => {\n    e.preventDefault(); //Validar que no haya campos vacios\n\n    if (rut.trim() === '' || nombre.trim() === '' || apellido.trim() === '' || ciudad.trim() === '' || telefono.trim() === '' || cargo.trim() === '' || email.trim() === '' || password.trim() === '' || confirmar.trim() === '') {\n      mostrarAlerta('Todos los campos son obligatorios');\n      return;\n    } //Password minimo de 6 caracteres\n\n\n    if (password.length < 6) {\n      mostrarAlerta('El password debe ser de al menos 6 caracteres', 'alerta-error');\n      return;\n    } //Los dos passwors son iguales\n\n\n    if (password !== confirmar) {\n      mostrarAlerta('Los passwords no son iguales');\n      return;\n    } //Pasarlo al \n\n\n    registrarUsuario({\n      rut,\n      nombre,\n      apellido,\n      ciudad,\n      telefono,\n      cargo,\n      email,\n      password\n    });\n  };\n  /*\n  const cityOptions = [\n      { key: 'ar', value: 'ar', flag: 'ar', text: 'Arica' },\n      { key: 'iq', value: 'iq', flag: 'iq', text: 'Iquique' },\n      { key: 'an', value: 'an', flag: 'an', text: 'Antofagasta' },\n      { key: 'cl', value: 'cl', flag: 'cl', text: 'Calama' },\n  ]\n   */\n  //const classes = useStyles();\n  //const [opcion, setOpcion] = useState();\n\n  /*\n  const handleChange = (event) => {\n      setOpcion(event.target.value)\n  };\n  */\n\n\n  return (\n    /*#__PURE__*/\n\n    /*\n    <form className={classes.root} noValidate autoComplete=\"off\">\n        <div>\n            <TextField\n            id=\"standar-select-text\"\n            select\n            label=\"Select\"\n            value={opcion}\n            onChange={handleChange}\n            helperText=\"Please select your option\"\n        >\n            {opciones.map((option) => (\n                <MenuItem key={option.value} value={option.value}>\n                    {option.label}\n                </MenuItem>\n            ))}\n        </TextField>\n        </div>\n     </form>\n    */\n\n    /*\n    { alerta ? ( <div className={`alerta ${alerta.categoria}`}>{alerta.msg} </div> ) : null }\n    */\n    React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-usuario\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contenedor-form sombra-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, \"Obtener una Cuenta\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"rut\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }\n    }, \"Rut\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"rut\",\n      name: \"rut\",\n      placeholder: \"rut ej: 19000000-1\",\n      value: rut,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nombres\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, \"Nombres\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"nombre\",\n      name: \"nombre\",\n      placeholder: \"Ingresa tus Nombres\",\n      value: nombre,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"apellidos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 25\n      }\n    }, \"Apellidos\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"apellido\",\n      name: \"apellido\",\n      placeholder: \"Ingresa tus Apellidos\",\n      value: apellido,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"ciudad\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 25\n      }\n    }, \"Ciudad\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"ciudad\",\n      name: \"ciudad\",\n      placeholder: \"Ingresa tu Ciudad de Nacimiento\",\n      value: ciudad,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"telefono\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 25\n      }\n    }, \"Tel\\xE9fono M\\xF3vil\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"telefono\",\n      name: \"telefono\",\n      placeholder: \"Ingresa tu M\\xF3vil\",\n      value: telefono,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"cargo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    }, \"Cargo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"cargo\",\n      name: \"cargo\",\n      placeholder: \"Ingresa tu Cargo\",\n      value: cargo,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 25\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      name: \"email\",\n      placeholder: \"Ingresa tu Email\",\n      value: email,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"Ingresa tu Password\",\n      value: password,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"passwor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"confirmar\",\n      name: \"confirmar\",\n      placeholder: \"Repite tu Password\",\n      value: confirmar,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"campo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primario btn-block\",\n      value: \"Registrarme\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Link, {\n      to: '/login',\n      className: \"enlace-cuenta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }\n    }, \"Volver a Iniciar Sesi\\xF3n\"))))\n  );\n};\n\nexport default Registro;","map":{"version":3,"sources":["D:/Scripts/React103/cliente/src/components/auth/Registro.js"],"names":["React","useState","useContext","Fragment","useEffect","Link","AlertaContext","AuthContext","Registro","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","registrarUsuario","history","push","usuario","guardarUsuario","rut","nombre","apellido","ciudad","telefono","cargo","email","password","confirmar","onChange","e","target","name","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext, Fragment, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AlertaContext from '../../context/alertas/alertaContext';\nimport AuthContext from '../../context/autentificacion/authContext';\n\n//import { Dropdown } from 'semantic-ui-react';\n//import { makeStyles } from '@material-ui/core/styles';\n//import TextField  from '@material-ui/core/TextField';\n//import MenuItem from '@material-ui/core/MenuItem';\n//import classes from '*.module.css';\n\n/*\nconst opciones = [\n    {\n        value: 'Sernageomin',\n        label: '$',\n    },\n    {\n        value: 'Supervisor',\n        label: 'B',\n    },\n];\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '25ch',\n        },\n    },\n})); \n*/\n\nconst Registro = (props) => {\n\n    //extraer los valores del context\n    //use context permite acceder a todas las funciones y al state\n    const alertaContext = useContext(AlertaContext);\n    const { alerta, mostrarAlerta } = alertaContext;\n\n    const authContext = useContext(AuthContext);\n    const { mensaje, autenticado, registrarUsuario } = authContext;\n\n\n    //En caso de que el usuario se haya autenticado o registrado o sea\n    //un registro duplicado\n    useEffect(() => {\n        if(autenticado) {\n            //aca redijiremos al usuario autenticad a la pag de proyectos\n            props.history.push('/proyectos');\n        }\n\n        if(mensaje) {\n            mostrarAlerta('Todos lo campos son obligatorios');\n        }\n        // eslint-disable-next-line\n    }, [/*mensaje,*/ autenticado, props.history])\n\n    //State para iniciar sesión\n    //los states tiene que tener el mismo nombre que name ej name=nombre\n    const [usuario, guardarUsuario] = useState({\n        rut: '',\n        nombre: '',\n        apellido: '',\n        ciudad: '',\n        telefono: '',\n        cargo: '',\n        email:'',\n        password: '',\n        confirmar: ''\n    });\n\n    //extraer de usuario\n    const { rut, nombre, apellido, ciudad, telefono, cargo, email, password, confirmar } = usuario;\n\n    //aqui vamos a ir guardando en el State\n    const onChange = e => {\n        guardarUsuario({\n            //traemos la copia de usuario para lo que este en el State no se \n            //sobre escriba en otra pieza de esta\n            //para reescribir la actual -> [e.target.name] : e.target.value\n            ...usuario,\n            [e.target.name] : e.target.value\n        });\n    }\n\n    //Cuando el usuario quiere iniciar sesion\n    const onSubmit = e => {\n        e.preventDefault();\n\n        //Validar que no haya campos vacios\n        if( rut.trim() === '' || nombre.trim() === '' || apellido.trim() === '' || ciudad.trim() === '' ||\n        telefono.trim() === '' || cargo.trim() === '' || email.trim() === '' || password.trim() === '' || \n        confirmar.trim() === '' ) {\n            mostrarAlerta('Todos los campos son obligatorios');\n            return;\n        }\n        \n        //Password minimo de 6 caracteres\n        if(password.length < 6) {\n            mostrarAlerta('El password debe ser de al menos 6 caracteres', 'alerta-error');\n            return;\n        }\n        //Los dos passwors son iguales\n        if(password !== confirmar) {\n            mostrarAlerta('Los passwords no son iguales');\n            return;\n        }\n        \n        //Pasarlo al \n        registrarUsuario({\n            rut,\n            nombre,\n            apellido,\n            ciudad,\n            telefono,\n            cargo, \n            email,\n            password\n        });\n    }\n\n    /*\n    const cityOptions = [\n        { key: 'ar', value: 'ar', flag: 'ar', text: 'Arica' },\n        { key: 'iq', value: 'iq', flag: 'iq', text: 'Iquique' },\n        { key: 'an', value: 'an', flag: 'an', text: 'Antofagasta' },\n        { key: 'cl', value: 'cl', flag: 'cl', text: 'Calama' },\n    ]\n\n    */\n\n  \n    //const classes = useStyles();\n    //const [opcion, setOpcion] = useState();\n\n    /*\n    const handleChange = (event) => {\n        setOpcion(event.target.value)\n    };\n    */\n\n\n    return(\n\n        /*\n        <form className={classes.root} noValidate autoComplete=\"off\">\n            <div>\n                <TextField\n                id=\"standar-select-text\"\n                select\n                label=\"Select\"\n                value={opcion}\n                onChange={handleChange}\n                helperText=\"Please select your option\"\n            >\n                {opciones.map((option) => (\n                    <MenuItem key={option.value} value={option.value}>\n                        {option.label}\n                    </MenuItem>\n                ))}\n            </TextField>\n            </div>\n\n        </form>\n        */\n       /*\n       { alerta ? ( <div className={`alerta ${alerta.categoria}`}>{alerta.msg} </div> ) : null }\n       */\n        \n        <Fragment>\n            <div className=\"form-usuario\">\n                \n            <div className=\"contenedor-form sombra-dark\">\n                <h2>Obtener una Cuenta</h2>\n\n                <form\n                    onSubmit={onSubmit}\n                >\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"rut\">Rut</label>\n                        <input\n                            type=\"text\"\n                            id=\"rut\"\n                            name=\"rut\"\n                            placeholder=\"rut ej: 19000000-1\"\n                            value={rut}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"nombres\">Nombres</label>\n                        <input\n                            type=\"text\"\n                            id=\"nombre\"\n                            name=\"nombre\"\n                            placeholder=\"Ingresa tus Nombres\"\n                            value={nombre}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"apellidos\">Apellidos</label>\n                        <input\n                            type=\"text\"\n                            id=\"apellido\"\n                            name=\"apellido\"\n                            placeholder=\"Ingresa tus Apellidos\"\n                            value={apellido}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"ciudad\">Ciudad</label>\n                        <input\n                            type=\"text\"\n                            id=\"ciudad\"\n                            name=\"ciudad\"\n                            placeholder=\"Ingresa tu Ciudad de Nacimiento\"\n                            value={ciudad}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"telefono\">Teléfono Móvil</label>\n                        <input\n                            type=\"text\"\n                            id=\"telefono\"\n                            name=\"telefono\"\n                            placeholder=\"Ingresa tu Móvil\"\n                            value={telefono}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"cargo\">Cargo</label>\n                        <input\n                            type=\"text\"\n                            id=\"cargo\"\n                            name=\"cargo\"\n                            placeholder=\"Ingresa tu Cargo\"\n                            value={cargo}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"Ingresa tu Email\"\n                            value={email}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            placeholder=\"Ingresa tu Password\"\n                            value={password}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"passwor\">Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"confirmar\"\n                            name=\"confirmar\"\n                            placeholder=\"Repite tu Password\"\n                            value={confirmar}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <input type=\"submit\" className=\"btn btn-primario btn-block\"\n                        value=\"Registrarme\" />\n                    </div>\n\n                </form>\n               \n                <Link to={'/login'} className=\"enlace-cuenta\">\n                    Volver a Iniciar Sesión\n                </Link>\n\n            </div>\n        </div>\n        </Fragment>\n        \n    )};\n\nexport default Registro;"]},"metadata":{},"sourceType":"module"}